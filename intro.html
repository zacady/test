<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.6">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>1&nbsp; Introduction: turning questions into models – Data Analysis for the Social Sciences</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./references.html" rel="next">
<link href="./index.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./intro.html"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction: turning questions into models</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Data Analysis for the Social Sciences</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction: turning questions into models</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#variables" id="toc-variables" class="nav-link active" data-scroll-target="#variables"><span class="header-section-number">1.1</span> Variables</a>
  <ul class="collapse">
  <li><a href="#sec-var-sub1" id="toc-sec-var-sub1" class="nav-link" data-scroll-target="#sec-var-sub1"><span class="header-section-number">1.1.1</span> Theoretical and operational variables</a></li>
  </ul></li>
  <li><a href="#hypotheses" id="toc-hypotheses" class="nav-link" data-scroll-target="#hypotheses"><span class="header-section-number">1.2</span> Hypotheses</a>
  <ul class="collapse">
  <li><a href="#dependent-and-independent-variables" id="toc-dependent-and-independent-variables" class="nav-link" data-scroll-target="#dependent-and-independent-variables"><span class="header-section-number">1.2.1</span> Dependent and independent variables</a></li>
  <li><a href="#theoretical-and-operational-hypotheses" id="toc-theoretical-and-operational-hypotheses" class="nav-link" data-scroll-target="#theoretical-and-operational-hypotheses"><span class="header-section-number">1.2.2</span> Theoretical and operational hypotheses</a></li>
  </ul></li>
  <li><a href="#modelling" id="toc-modelling" class="nav-link" data-scroll-target="#modelling"><span class="header-section-number">1.3</span> Modelling</a>
  <ul class="collapse">
  <li><a href="#why-do-we-need-models" id="toc-why-do-we-need-models" class="nav-link" data-scroll-target="#why-do-we-need-models"><span class="header-section-number">1.3.1</span> Why do we need models?</a></li>
  <li><a href="#sec-mod-sub2" id="toc-sec-mod-sub2" class="nav-link" data-scroll-target="#sec-mod-sub2"><span class="header-section-number">1.3.2</span> What is a model?</a></li>
  <li><a href="#data-analysis-as-the-art-of-modelling" id="toc-data-analysis-as-the-art-of-modelling" class="nav-link" data-scroll-target="#data-analysis-as-the-art-of-modelling"><span class="header-section-number">1.3.3</span> Data analysis as the art of modelling</a></li>
  <li><a href="#two-criteria-that-define-a-good-model" id="toc-two-criteria-that-define-a-good-model" class="nav-link" data-scroll-target="#two-criteria-that-define-a-good-model"><span class="header-section-number">1.3.4</span> Two criteria that define a good model</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction: turning questions into models</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>Suppose you are a researcher interested in the underpinnings of human well-being. In simple terms, your question is: <em>How does human well-being work?</em> Trying to answer such a broad question might sound a bit overwhelming at first. Where do you even start? Well, a good place to start is to make a simple but fundamental observation: well-being is not identical for everyone at all times. Some people seem to fare better than others, and the same individuals will feel more or less content and happy at different points in their lives. To convey this fact we say that well-being is a <span class="mybold">variable</span>. Looking at well-being as a variable is useful because it lets you reformulate your original question in a more precise and approachable way: why is it that some people are happier than others? Why do people feel better at some moments in their life and less so at others? To understand how well-being works, you would need to explain this variability.</p>
<p>We can try to formulate possible explanations, or <span class="mybold">hypotheses</span>. Well-being might be affected by one’s physical health, income, and personality, for instance. It might also depend on the type of neighbourhood one lives in, the quality of one’s relationship with family and friends, and exposure to violent experiences like war or natural disasters (notice how these hypotheses involve other variables).</p>
<p>If you think about it long enough, you will eventually come to realize that the possible determinants of well-being are so numerous that listing them exhaustively seems like an impossible task. The example of well-being is not an exception in that regard. Phenomena investigated by social scientists are, as a rule, tremendously complex. They are the product of an amount of causes so vast that identifying all of them is virtually impossible. This complexity inherent in our phenomenon of interest is one of the key reasons why <em>our attempts at explanation will inevitably result in a simplification of reality</em>. When conducting data analysis, such a simplification of reality is called a <span class="mybold">model</span>.</p>
<p>Variables, hypotheses, and models all play a fundamental role in the practice of data analysis. They are tools that help us confront our theories about how the world works to reality. In the remaining of this chapter, we will build a more precise understanding of these notions and how to use them in practice.</p>
<section id="variables" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="variables"><span class="header-section-number">1.1</span> Variables</h2>
<p>We have seen that well-being can usefully be considered as a <span class="mybold">variable</span> to convey that it is not identical for everyone and at all times. The same is true for things like personality, gender, income, or nationality. You might notice that, by calling all these information “variables”, we are lumping quite different things together: income, for instance, is a quantity - it can meaningfully be represented by a number - while gender is not. Distinctions of this sort are important, and we will discuss them in due course. For now, suffice it to say that</p>
<div class="definition">
<p><em>A</em> <span class="mybold">variable</span> <em>is a quantity or a quality that varies.</em></p>
</div>
<section id="sec-var-sub1" class="level3" data-number="1.1.1">
<h3 data-number="1.1.1" class="anchored" data-anchor-id="sec-var-sub1"><span class="header-section-number">1.1.1</span> Theoretical and operational variables</h3>
<p>But what do we mean exactly when we use the word “well-being”? Is it the same as happiness? Or satisfaction with one’s life? One of your tasks as a researcher will be to define your phenomenon of interest as clearly possible. We call such clearly defined concept a <span class="mybold">theoretical variable</span> (or a theoretical construct).</p>
<p>For instance, having thoroughly reviewed the existing knowledge on the topic, you might conclude that the notion of well-being can be defined as a special case of the sentiment of satisfaction. This sentiment of satisfaction, you add, is not related to any particular aspect of the person’s life, but rather about all aspects considered together. Hence, you decide to define well-being as <em>an individual’s degree of satisfaction with their life considered in all its aspects</em>. This would be your theoretical variable.</p>
<p>Note that defining a theoretical variable (well-being, in this case) has less do to with laying out what well-being ‘truly is’ than with being clear about what <em>you mean</em> when using the term.<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> After all, definitions of terms are conventional: a term can be said to have a “true meaning” only in the sense of a meaning that is agreed upon by some set of people. What matters the most when defining your theoretical variable is to be clear – <em>i.e.</em>, to leave as little ambiguity as possible regarding what it does and does not refer to in the real world. But this does not mean that you can just ignore how you theoretical variable is usually defined by other scientists, or even among the general public. Conventions in terminology facilitate smooth communication, and departing from them can result in misunderstandings. Claiming to study “well-being” while actually defining that term as an individual’s preference for cats over dogs would be confusing for no reason, no matter how clear the definition. In sum, you should depart from conventional definitions only if you have good reasons to do so, such as when it helps distinguishing your theoretical variable better from closely related concepts.</p>
<div class="definition">
<p><em>A</em> <span class="mybold">theoretical variable</span> <em>is the concept of interest defined in abstract and general terms.</em></p>
</div>
<p>Having clearly defined your theoretical variable is not enough, however, because such a variable cannot be directly observed the real world. Think about well-being: however clearly you define it, you cannot simply observe a person and self-evidently know their well-being. You will need to find a concrete procedure to extract the information corresponding to your theoretical concept in the real world. Such procedure is what we call <strong>measurement</strong>. And the information obtained through measurement is the <span class="mybold">operational variable</span>.</p>
<p>Since in our example we defined our theoretical variable in subjective terms – through the feeling of satisfaction – you could reason that the best way to extract the corresponding information would be to directly ask people. You might thus devise a questionnaire including a question similar to the following: <em>thinking of your life as whole, how satisfied would you say you are on a scale ranging from 1 (not satisfied at all) to 10 (completely satisfied)?</em></p>
<p>Ideally, you should select a measurement procedure with the aim that the resulting operational variable should faithfully and reliably reflect the theoretical variable. Consider the measure of well-being proposed in the previous paragraph, for instance. If an individual happen to be in a bad mood while answering the question, the negative aspects of her life might come to her attention more readily than the positive ones. This might lead her to rate her own well-being lower than she would have earlier or later that day. If the aim is to capture satisfaction with one’s life as a whole, a measurement wouldn’t be very reliable if its outcome were to change with every mood swing. An alternative strategy could be to present participants with a series of questions, each focusing on a specific aspect of their life (e.g., finances, physical health, friendships, etc.) and aggregate all answers into a composite score. This way, participants would be prompted to pay attention to the different facets of their life instead of being guided by what their transient state of mind brings to their attention.</p>
<div class="definition">
<p><em>An</em> <span class="mybold">operational variable</span> <em>is the information, obtained through a concrete measurement procedure, used to represent real-world realizations of the theoretical variable.</em></p>
</div>
<p>This example illustrates that devising a measurement procedure that yields a sound operational variable can be a tricky endeavour. Researchers have developed a set of tools that can help us in this task. We will discuss some of these tools later. In the meantime, examples of work attempting to defining well-being as a theoretical variable and proposing a rigorous way to measure it can be found in Diener <em>et al</em> <span class="citation" data-cites="diener2010">(<a href="references.html#ref-diener2010" role="doc-biblioref">2010</a>)</span> and Weziak-Bialowolska <em>et al</em> <span class="citation" data-cites="weziak-bialowolska2021">(<a href="references.html#ref-weziak-bialowolska2021" role="doc-biblioref">2021</a>)</span>.</p>
</section>
</section>
<section id="hypotheses" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="hypotheses"><span class="header-section-number">1.2</span> Hypotheses</h2>
<p>Remember what thinking in terms of variables taught us: to explain well-being, you would need to find explanations that account for its variability in the real world. And we saw that we could think of many possible explanations. Let us consider one of them: <em>well-being is affected by income</em>. We will call this statement a <span class="mybold">hypothesis</span>. There are at least three features that a good hypothesis should satisfy.</p>
<p>Firstly, one thing that makes the sentence <em>well-being is affected by income</em> a valid hypothesis is that it is a <strong>statement</strong>. On the contrary, the sentence <em>is well-being affected by income?</em> is a question rather than a statement and, hence, doesn’t qualify as a hypothesis.</p>
<p>A second thing to note about this statement is that it indicates that well-being is explained by another variable: income. Just like well-being, income is not the same for everyone, and can vary from time to time for a given individual. Hence, income is also a variable. And our hypothesis states that this variable explains well-being. This is the form most hypotheses take: they are statements <strong>about a relationship between variables</strong>.</p>
<p>Thirdly, notice that we are stating something that we don’t actually know. Maybe income does affect well-being, maybe it doesn’t. We might have a strong belief about it, but it is crucial to always consider that our belief might turn out to be false. Indeed, the very purpose of a hypothesis is to formulate a factual statement that can be confronted with observations in the real world. Therefore, a statement qualifies as a hypothesis only if it is in principle possible to prove it wrong through observation. That is, we should be able to think of a situation in which what we observe will show us that the hypothesis is false, if it is indeed false. We say that a hypothesis must be <strong>falsifiable</strong>.</p>
<p>To make this last point clearer, consider the statement <em>well-being is undermined by memories of childhood trauma even if those memories have been suppressed</em>. Try to think of an observation that would prove this statement wrong. For instance, you could ask a large number of individuals to recall any childhood trauma and then compare the well-being of those who recall traumatic experiences to the well-being of those who don’t. But even if well-being turns to be exactly the same in both groups, the statement implies that those who don’t recall any trauma could have in fact suppressed such memories. Whatever observation we make, it seems that we can always “save” the statement from being proven wrong by invoking the notion that memories can be suppressed and, hence, can remain undetected. This statement thus appears unfalsifiable. It is <strong>not</strong> a valid hypothesis.</p>
<div class="definition">
<p><em>A</em> <span class="mybold">hypothesis</span> <em>is a statement, either about a variable or (more typically) about the relationship between variables, which is in principle falsifiable through observation.</em></p>
</div>
<p>Note how the definition above leaves room for hypotheses that concern only one variable. For instance, the statement “Among humans, it is more frequent to be born a female than a male” is a valid hypothesis (it is a falsifiable statement) that refers to one variable only (sex).</p>
<section id="dependent-and-independent-variables" class="level3" data-number="1.2.1">
<h3 data-number="1.2.1" class="anchored" data-anchor-id="dependent-and-independent-variables"><span class="header-section-number">1.2.1</span> Dependent and independent variables</h3>
<p>When we hypothesize that two variables are related, we usually specify the relationship a bit further. If I say <em>Well-being is affected by income</em>, well-being and income are both variables, but one (well-being) is the thing we are trying to explain whereas the other (income) is the proposed explanation. We call them <span class="mybold">dependent variable</span> and <span class="mybold">independent variable</span>, respectively (see <a href="#fig-var" class="quarto-xref">Figure&nbsp;<span>1.1</span></a>).</p>
<div class="definition">
<p><em>In the context of a hypothesis, the</em> <span class="mybold">dependent variable</span> <em>is the variable that we are trying to explain whereas the</em> <span class="mybold">independent variable</span> <em>is the variable that we hypothesize to explain the dependent variable.</em></p>
</div>
<div class="cell" data-fig-width="6" data-fig-height="3" data-fig-dpi="330" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-var" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-var-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div>
<svg width="576" height="288" viewbox="0.00 0.00 152.22 37.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" style="; max-width: none; max-height: none">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 33)">
<title>G</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-33 148.22,-33 148.22,4 -4,4"></polygon>
<!-- IV -->
<g id="node1" class="node">
<title>IV</title>
<ellipse fill="none" stroke="black" cx="28.11" cy="-14.5" rx="28.22" ry="14.5"></ellipse>
<text text-anchor="middle" x="28.11" y="-16" font-family="Times,serif" font-size="5.00">Independent</text>
<text text-anchor="middle" x="28.11" y="-10" font-family="Times,serif" font-size="5.00">variable</text>
</g>
<!-- DV -->
<g id="node2" class="node">
<title>DV</title>
<ellipse fill="none" stroke="black" cx="118.22" cy="-14.5" rx="26" ry="14.5"></ellipse>
<text text-anchor="middle" x="118.22" y="-16" font-family="Times,serif" font-size="5.00">Dependent</text>
<text text-anchor="middle" x="118.22" y="-10" font-family="Times,serif" font-size="5.00">variable</text>
</g>
<!-- IV&#45;&gt;DV -->
<g id="edge1" class="edge">
<title>IV-&gt;DV</title>
<path fill="none" stroke="black" d="M56.51,-14.5C66.14,-14.5 77.03,-14.5 86.89,-14.5"></path>
<polygon fill="black" stroke="black" points="86.94,-16.25 91.94,-14.5 86.94,-12.75 86.94,-16.25"></polygon>
</g>
</g>
</svg>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-var-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1.1: Typical structure of a hypothesis
</figcaption>
</figure>
</div>
</div>
</div>
<p>Note that this not the only terminology used by scientists. A dependent variable is also called an <strong>outcome</strong> or a <strong>response variable</strong>. And an independent variable is also referred to as a <strong>predictor</strong> or an <strong>explanatory variable</strong>.</p>
<p>One reason often invoked for preferring these alternatives is that the terminology of dependent and independent variable is usually understood as implying a causal relationship. And causality is a very difficult thing to test in practice. Thus, when researchers consider that they are in no position to test the existence a causal relationship, they often opt for a terminology that does not evoke causality in the first place.</p>
</section>
<section id="theoretical-and-operational-hypotheses" class="level3" data-number="1.2.2">
<h3 data-number="1.2.2" class="anchored" data-anchor-id="theoretical-and-operational-hypotheses"><span class="header-section-number">1.2.2</span> Theoretical and operational hypotheses</h3>
<p>Recall our distinction that we made <a href="#sec-var-sub1" class="quarto-xref"><span>Section 1.1.1</span></a> between theoretical and operational variables. Since hypotheses talk about variables, it should seem natural to similarly distinguish two types of hypotheses:</p>
<div class="definition">
<p><em>A</em> <span class="mybold">theoretical hypothesis</span> <em>is a general statement about the relationship between theoretical variables.</em></p>
<p><em>An</em> <span class="mybold">operational hypothesis</span> <em>is a statement about the relationship between operational variables in a clearly specified study setting.</em></p>
</div>
</section>
</section>
<section id="modelling" class="level2" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="modelling"><span class="header-section-number">1.3</span> Modelling</h2>
<p>As social scientists, we should always remember that the phenomena we wish to explain are extremely complex. This means that we should abandon the illusion that we could explain them perfectly. Rather, we will rely on simplified descriptions which capture relevant and useful aspects of reality. We call such a simplification of reality a <span class="mybold">model</span>.</p>
<section id="why-do-we-need-models" class="level3" data-number="1.3.1">
<h3 data-number="1.3.1" class="anchored" data-anchor-id="why-do-we-need-models"><span class="header-section-number">1.3.1</span> Why do we need models?</h3>
<p>To understand why, let us consider once again hypotheses that could explain why well-being is not identical for everyone and at all times. It might be because well-being changes depending on variables like income, personality, physical and mental health, gender, life events, relationships, diet, sleep quality, and so on. The important thing to realize is that this list could go on. And on. Identifying all the variables that could potentially explain well-being is so difficult that we might as well consider it impossible in practice.</p>
<p>But even if we could know all the variables that affect well-being (which we can’t), grasping <strong>how</strong> exactly these variables influence well-being is way beyond what our minds can handle. Take the hypothesis that income fosters well-being: what amount of money exactly makes a difference? And does more income always lead to more well-being or is there an amount beyond which earning more doesn’t make any difference? Are there personalities or cultures for which income matters more for well-being? Such questions also could go on.</p>
<p>And finally, even if we knew all the relevant variables and understood how exactly they shape well-being (which, again, we can’t), it would be impossible to measure them all and to do so with perfect accuracy. Measuring things takes time and resources, and measuring all the variables that might be relevant would require a gigantic amount of both. Moreover, some variables are very difficult to measure accurately. Think of any variable that is inherently subjective: well-being, personality, beliefs, emotions, and so on.</p>
<div class="border" style="border-color: #107895 !important; border-width: 2.5px !important; padding: 1em 2em 1em 1em; margin-top: 50px; margin-bottom: 50px; background: #80808021;">
<div style="text-align: center;">
<p><u><strong>Three reasons for humility</strong></u></p>
</div>
<ul>
<li><p>It is virtually impossible to <strong>identify</strong> all the variables that explain a given phenomenon.</p></li>
<li><p>It is virtually impossible to <strong>grasp how these variables influence our phenomenon</strong> of interest.</p></li>
<li><p>It is virtually impossible to <strong>measure</strong> all the variables that explain a given phenomenon and to do so <strong>with perfect accuracy</strong>.</p></li>
</ul>
</div>
</section>
<section id="sec-mod-sub2" class="level3" data-number="1.3.2">
<h3 data-number="1.3.2" class="anchored" data-anchor-id="sec-mod-sub2"><span class="header-section-number">1.3.2</span> What is a model?</h3>
<p>Thus, our attempts at explaining a phenomenon will necessarily result in a simplification of reality. This might sound disappointing. But simplifying a complex reality can actually be a very useful thing to do. Consider for instance a simple map of the world, like the one shown on the right of <a href="#fig-models" class="quarto-xref">Figure&nbsp;<span>1.2</span></a>.</p>
<div style="margin-top:2em !important; margin-bottom:2em !important;">
<div id="fig-models" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-models-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row quarto-layout-valign-center">
<div class="quarto-layout-cell" style="flex-basis: 45.0%;justify-content: center;">
<p><img src="images/Earth.jpg" class="img-fluid figure-img"></p>
</div>
<div class="cell quarto-layout-cell" style="flex-basis: 55.0%;justify-content: flex-start;">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="intro_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid figure-img" width="2310"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-models-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1.2: Example of model (the world map) of a complex reality (the earth’s surface)
</figcaption>
</figure>
</div>
</div>
<p>In a sense, we can say that such a map describes the surface of our planet. Of course, it does so in a very incomplete and inaccurate way: lots of complicated stuff that characterize the earth’s surface at any given time are not depicted on this map, like weather-related processes happening in the atmosphere, variations in topography, the organisation and movement of tectonic plates, water streams circulating in the oceans or the many billions of living creatures populating the surface. But it is precisely because such a map is an incomplete description that it is useful to us. By extracting a few features from a highly complex reality, it makes it manageable for our minds to grasp relevant information which, otherwise, would be drown in an ocean of complexity. Thanks to the simplicity of the map, we can clearly identify the parts of the earth’s surface that are not covered by water, how this landmass was partitioned into countries by humans, and their geographic locations relative to the poles and the equator. The map is thus a <strong>simplification</strong> of the reality it aims to describe – <em>i.e.</em>, the earth’s surface. But it is an informative simplification. We can say that the map is a <span class="mybold">model</span> of the earth’s surface.</p>
<div class="definition">
<p><em>A</em> <span class="mybold">model</span> <em>is a simplified representation, which aims at describing relevant aspects of reality while ignoring others.</em></p>
</div>
</section>
<section id="data-analysis-as-the-art-of-modelling" class="level3" data-number="1.3.3">
<h3 data-number="1.3.3" class="anchored" data-anchor-id="data-analysis-as-the-art-of-modelling"><span class="header-section-number">1.3.3</span> Data analysis as the art of modelling</h3>
<p>Now that we have established an intuitive understanding of what a model is, we are ready for the most important insight you should take away from this chapter: <strong><em>Data analysis is the art of building and interpreting statistical models.</em></strong> What this means, and what we will see throughout this book, is that doing data analysis virtually always comes down to applying the fundamental principle described in the equation in <span><a href="#fig-Box1.1h">Box1.1</a></span> <span class="citation" data-cites="judd2017">(see <a href="references.html#ref-judd2017" role="doc-biblioref">Judd et al., 2017</a>)</span>. Let us unpack what this equation means.</p>
<div id="fig-Box1.1h" class="infobox quarto-float quarto-figure quarto-figure-center anchored" style="--c:'Box 1.1 – Key idea';">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-Box1.1h-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<p><strong>The fundamental principle of data analysis</strong></p>
<p>
<span class="math display">\[
Data = Model + Error
\]</span>
</p>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-Box1.1h-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1.3
</figcaption>
</figure>
</div>
<p>In the context of a scientific study, the phenomenon we wish to explain will be represented by a set of data. Our task is to build, based on the information at our disposal, an explanatory model that best accounts for these data.</p>
<p>Suppose you hypothesize that well-being depends on income. You ask 100 people their income (in dollars) and measure their well-being on a scale ranging from 1 to 10. The scores of well-being would be the data we are trying to explain, and the income is the information we can use to build a model. Applying our general equation in <span><a href="#fig-Box1.1h">Box1.1</a></span> to this imaginary data, we could obtain something like this:</p>
<p><span class="math display">\[
Wellbeing_i=-5.261+0.005 \times Income_i+Error_i
\]</span> Or using more conventional notations:</p>
<p><span id="eq-intro-ex"><span class="math display">\[
Y_i=-5.261+0.005X_i+e_i
\tag{1.1}\]</span></span></p>
<p>What the numbers in <a href="#eq-intro-ex" class="quarto-xref">Equation&nbsp;<span>1.1</span></a> mean, and how to obtain them, is not important now. We will cover that in due course. What matters at this point is that you get a feel of how the elements making up the fundamental equation shown in <span><a href="#fig-Box1.1h">Box1.1</a></span> might look like in a concrete case.</p>
<p>Now, let us use this example to understand what our fundamental principle means. In <a href="#eq-intro-ex" class="quarto-xref">Equation&nbsp;<span>1.1</span></a>, the symbol <span class="math inline">\(Y_i\)</span> represents Well-being, our dependent variable. This is the thing we are trying to explain, the <strong>Data</strong>. (The subscript <span class="math inline">\(i\)</span> is there to remind us that <span class="math inline">\(Y\)</span>, Well-being, can take different values. Its exact meaning will become clear in the next chapters).</p>
<p>The <strong>Model</strong> is given by the expression <span class="math inline">\(-5.261+0.005X_i\)</span>, where <span class="math inline">\(X_i\)</span> represents Income, our independent variable. A <span class="mybold">statistical model</span>, like this one, is a mathematical expression, usually very simple, that generates guesses about what the data are. We say that the model makes <span class="mybold">predictions</span> about the data. You can think of it a little prediction machine. And we can give it information to base its predictions on. In this case, for instance, we used Income, <span class="math inline">\(X_i\)</span>, as an information for the model to use in generating predictions.</p>
<div class="definition">
<p><em>A</em> <span class="mybold">statistical model</span> <em>is a simple mathematical expression that generates guesses (predictions) about what each data point is.</em></p>
<p><em>A model</em> <span class="mybold">prediction</span> <em>is what a data point should be according to the model.</em></p>
</div>
<p>But remember that our model will, as a rule, be a simplification of reality; it will not completely explain the data. In practice, this means that there will be some discrepancies between our model predictions and the actual data. We say that our model will make <span class="mybold">errors</span>. These errors are represented by the symbol <span class="math inline">\(e_i\)</span> in <a href="#eq-intro-ex" class="quarto-xref">Equation&nbsp;<span>1.1</span></a>.</p>
<div class="definition">
<p><em>An</em> <span class="mybold">error</span> <em>is the distance between a model prediction and the corresponding data point.</em></p>
</div>
<p>Mathematically, an error has a very straightforward definition. Given the general equation</p>
<p><span class="math display">\[
Data = Model + Error
\]</span></p>
<p>we can isolate the Error term by subtracting the Model term from sides of the equation:</p>
<p><span class="math display">\[
Data - Model = Error.
\]</span></p>
<p>Thus:</p>
<p><span class="math display">\[
Error = Data - Model
\]</span></p>
<p>Using conventional notations, we express exactly the same equation as</p>
<p><span class="math display">\[
e_i = Y_i - \hat{Y}_i
\]</span></p>
<p>Where <span class="math inline">\(\hat{Y}_i\)</span> represents the predictions made by our model.</p>
<p>Thus, it follows from our fundamental equation that the error corresponds to the difference between a given data point and the corresponding prediction made by the model.</p>
</section>
<section id="two-criteria-that-define-a-good-model" class="level3" data-number="1.3.4">
<h3 data-number="1.3.4" class="anchored" data-anchor-id="two-criteria-that-define-a-good-model"><span class="header-section-number">1.3.4</span> Two criteria that define a good model</h3>
<p>A statistical model, we saw, is just a mathematical expression that generates predictions about what the data are. But this definition is very broad: it leaves us with infinitely many options as to what particular model we choose for a given set of data. So, how do we choose? What model should we prefer over all others? There are two criteria that will guide us.</p>
<p>The first criterion is the most obvious: <strong>our model should make the least possible amount of errors in its predictions</strong>. At the end of the day, our purpose is to explain the phenomenon represented by the data. The more our model predictions differ from the data, the further it gets from achieving this purpose. In other words, the less errors our model makes, the better it explains the data.</p>
<p>The second criterion is more subtle. To understand it, remember why we use models in the first place. We know that the data we are trying to explain represent a complex reality generated by a vast amount of intricate causal processes. The point of using a model is to simplify this complexity by extracting relevant information that is useful to us (see <a href="#sec-mod-sub2" class="quarto-xref"><span>Section 1.3.2</span></a>). In other words, the very usefulness of a model lies in its simplicity. Thus, <strong>our model should be as simple as possible</strong>.</p>
<div id="fig-Box1.2h" class="infobox quarto-float quarto-figure quarto-figure-center anchored" style="--c:'Box 1.2 – Key idea';">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-Box1.2h-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div style="text-align:center !important;">
<p><strong>Two virtues of a good model</strong></p>
</div>
<div style="text-align:left !important;">
<p>
<strong>Accuracy</strong>: <em>A good model should make as little prediction error as possible</em>.
</p>
<p>
<strong>Simplicity</strong>: <em>A good model should be as simple as possible</em>.
</p>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-Box1.2h-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1.5
</figcaption>
</figure>
</div>


<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" data-line-spacing="2" role="list" style="display: none">
<div id="ref-diener2010" class="csl-entry" role="listitem">
Diener, E., Wirtz, D., Tov, W., Kim-Prieto, C., Choi, D., Oishi, S., &amp; Biswas-Diener, R. (2010). New Well-being Measures: Short Scales to Assess Flourishing and Positive and Negative Feelings. <em>Social Indicators Research</em>, <em>97</em>(2), 143–156. <a href="https://doi.org/10.1007/s11205-009-9493-y">https://doi.org/10.1007/s11205-009-9493-y</a>
</div>
<div id="ref-judd2017" class="csl-entry" role="listitem">
Judd, C. M., McClelland, G. H., &amp; Ryan, C. S. (2017). <em>Data analysis: A model comparison approach to regression, ANOVA, and beyond</em>. Routledge.
</div>
<div id="ref-popper2020" class="csl-entry" role="listitem">
Popper, K. R. (2020). <em>The Open Society and Its Enemies</em>. Princeton University Press.
</div>
<div id="ref-weziak-bialowolska2021" class="csl-entry" role="listitem">
Weziak-Bialowolska, D., Bialowolski, P., Lee, M. T., Chen, Y., VanderWeele, T. J., &amp; McNeely, E. (2021). Psychometric properties of flourishing scales from a comprehensive well-being assessment. <em>Frontiers in Psychology</em>, <em>12</em>. <a href="https://doi.org/10.3389/fpsyg.2021.652209">https://doi.org/10.3389/fpsyg.2021.652209</a>
</div>
</div>
</section>
</section>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr>
<ol>
<li id="fn1"><p>The philosopher of science Karl Popper <span class="citation" data-cites="popper2020">(<a href="references.html#ref-popper2020" role="doc-biblioref">Popper, 2020</a>)</span> has criticized the view – which he associates with Aristotle – that concepts have a true essence that our definition should reflect. Rather, Popper argues, scientific concepts are just labels that we put on real-world processes. Thus, it does not really matter which label we use to refer to a given process, as long as we clearly define what our label refers to and use our terminology consistently. Popper refers to his view as “methodological nominalism” as opposed to Aristotle’s “methodological essentialism”.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./index.html" class="pagination-link" aria-label="Preface">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Preface</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./references.html" class="pagination-link" aria-label="References">
        <span class="nav-page-text">References</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>